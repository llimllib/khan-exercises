<!DOCTYPE html>
<html data-require="math math-format">
<head>
	<meta charset="UTF-8" />
	<title>Matrices 1</title>
	<script src="../khan-exercise.js"></script>
    <script>
        function makeMat( rown, coln ) {
            var rows = [];
            for ( var i = 0; i < rown; i++ ) {
                var row = []
                for ( var j = 0; j < coln; j++ ) {
                    row.push(KhanUtil.randRange( 1, 100 ));
                }
                rows.push( row );
            }
            return rows;
        }

        function formatMat( rows ) {
            var mat = "\\begin{bmatrix}";

            mat += $.map( rows, function( row, i ) {
                return row.join(" & ");
            }).join( " \\\\ " );

            return mat + "\\end{bmatrix}";
        }

        function showElements( rown, coln ) {
            var rows = [];
            for ( var i = 1; i <= rown; i++ ) {
                var row = []
                for ( var j = 1; j <= coln; j++ ) {
                    row.push("a_{"+i+","+j+"}");
                }
                rows.push( row );
            }
            return formatMat(rows);
        }

        function colorRows( rows ) {
            var mat = "\\begin{bmatrix}";

            var colors = ["red", "green", "blue", "orange", "brown"];

            mat += $.map( rows, function( row, i ) {
                return jQuery.map( row, function ( elt ) {
                    return "\\color{" + colors[i] + "}{ " + elt + "}";
                }).join(" & ");
            }).join( " \\\\ " );

            return mat + "\\end{bmatrix}";
        }

        function colorColumns( rows ) {
            var mat = "\\begin{bmatrix}";

            var colors = ["red", "green", "blue", "orange", "brown"];

            mat += $.map( rows, function( row ) {
                return jQuery.map( row, function ( elt, i ) {
                    return "\\color{" + colors[i] + "}{ " + elt + "}";
                }).join(" & ");
            }).join( " \\\\ " );

            return mat + "\\end{bmatrix}";
        }
    </script>
</head>
<body>
	<div class="exercise">
	<div class="vars">
        <var id="ROWS">randRange( 2, 5 )</var>
        <var id="COLUMNS">randRange( 2, 5 )</var>
        <var id="MATRIX">makeMat( ROWS, COLUMNS )</var>
        <var id="COLOREDROWS">colorRows( MATRIX )</var>
        <var id="COLOREDCOLS">colorColumns( MATRIX )</var>
        <var id="SHOWMATRIX">showElements( ROWS, COLUMNS )</var>
        <var id="X">randRange( 1, ROWS )</var>
        <var id="Y">randRange( 1, COLUMNS )</var>
	</div>

	<div class="problems">
		<div>
			<div class="question">
				<p>How many rows does this matrix have?</p>
                <p><code><var>formatMat(MATRIX)</var></code></p>
			</div>
			<div class="solution"><var>ROWS</var></div>
            <div class="hints">
                <p>Each row has been given a different color: <code><var>COLOREDROWS</var></code></p>
            </div>
        </div>
        <div>
			<div class="question">
				<p>How many columns does this matrix have?</p>
                <p><code><var>formatMat(MATRIX)</var></code></p>
			</div>
			<div class="solution"><var>COLUMNS</var></div>
            <div class="hints">
                <p>Each column has been given a different color: <code><var>COLOREDCOLS</var></code></p>
            </div>
		</div>
        <div>
            <div class="question">
                <p>What value does element <code>a_{<var>X</var>,<var>Y</var>}</code> of matrix A have?
                <p><code>A = <var>formatMat(MATRIX)</var></code></p>
            </div>
            <div class="solution"><var>MATRIX[X-1][Y-1]</var></div>
            <div class="hints">
                <p>Here are the elements of the matrix:
                <code><var>SHOWMATRIX</var></code></p>
            </div>
        </div>
	</div>
	</div>
</body>
</html>
